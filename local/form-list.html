<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../../paper-listbox/paper-listbox.html">
<link rel="import" href="../../paper-item/paper-item.html">
<link rel="import" href="../../neon-animation/neon-animated-pages.html">
<link rel="import" href="../../neon-animation/neon-animatable.html">
<link rel="import" href="../../neon-animation/neon-animations.html">
<link rel="import" href="../dl2-form.html">
<link rel="import" href="../../paper-styles/color.html">

<dom-module id="form-list">
  <template>
    <style include="iron-flex iron-flex-alignment">
      :host {
        overflow: hidden;
        @apply(--layout-fullbleed);
        @apply(--layout-vertical);
      }
      neon-animated-pages {
        @apply(--layout-flex);
      }
      neon-animatable {
        color: white;
        @apply(--layout-horizontal);
        @apply(--layout-center-center);
        @apply(--paper-font-display4);
      }
      neon-animatable:nth-child(1) {
        background: var(--paper-red-500);
      }
      neon-animatable:nth-child(2) {
        background: var(--paper-blue-500);
      }
      neon-animatable:nth-child(3) {
        background: var(--paper-orange-500);
      }
      neon-animatable:nth-child(4) {
        background: var(--paper-green-500);
      }
      neon-animatable:nth-child(5) {
        background: var(--paper-purple-500);
      }
    </style>

    <div class="layout vertical">
      <paper-listbox on-iron-select="_select">
        <paper-item>{{localize('dl2_form_label')}}</paper-item>
        <paper-item>{{localize('dl2_form_label')}}</paper-item>
      </paper-listbox>
    </div>

    <neon-animated-pages id="pages" selected="[[selected]]" 
      entry-animation="[[entryAnimation]]" 
      exit-animation="[[exitAnimation]]">
        <neon-animatable><dl2-form></dl2-form></neon-animatable>
        <neon-animatable>2</neon-animatable>
        <neon-animatable>3</neon-animatable>
        <neon-animatable>4</neon-animatable>
        <neon-animatable>5</neon-animatable>
      </neon-animated-pages>
    
  </template>

  <script>
    Polymer({
      is: 'form-list',
      behaviors: [
          Polymer.AppLocalizeBehavior
      ],
      properties: {
        language: {
          value:'th'
        },
        selected: {
          type:Number,
          value:1
        },
        dmcStudent: {
          type: Object
        }
      },
      attached:function() {
        this.loadResources(this.resolveUrl('../locales.json'));
      },
      _select: function() {
        console.log(this.selected);
        this.entryAnimation = 'slide-from-right-animation';
        this.exitAnimation = 'slide-left-animation';
        this.selected = this.selected === 4 ? 0 : (this.selected + 1);
      }
    });
  </script>
</dom-module>
